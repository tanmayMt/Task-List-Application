{"ast":null,"code":"// frontend/src/redux/slices/taskSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  tasks: [],\n  sharedTasks: [],\n  loading: false,\n  error: null\n};\nexport const createTask = createAsyncThunk('tasks/createTask', async (taskData, thunkAPI) => {\n  try {\n    const {\n      auth\n    } = thunkAPI.getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${auth.userInfo.token}`\n      }\n    };\n    const response = await axios.post('/api/tasks', taskData, config);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nexport const getTasks = createAsyncThunk('tasks/getTasks', async (_, thunkAPI) => {\n  try {\n    const {\n      auth\n    } = thunkAPI.getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${auth.userInfo.token}`\n      }\n    };\n    const response = await axios.get('/api/tasks', config);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nexport const updateTask = createAsyncThunk('tasks/updateTask', async (taskData, thunkAPI) => {\n  try {\n    const {\n      auth\n    } = thunkAPI.getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${auth.userInfo.token}`\n      }\n    };\n    const response = await axios.put('/api/tasks', taskData, config);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nexport const shareTask = createAsyncThunk('tasks/shareTask', async (shareData, thunkAPI) => {\n  try {\n    const {\n      auth\n    } = thunkAPI.getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${auth.userInfo.token}`\n      }\n    };\n    const response = await axios.post('/api/tasks/share', shareData, config);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nexport const getSharedTasks = createAsyncThunk('tasks/getSharedTasks', async (_, thunkAPI) => {\n  try {\n    const {\n      auth\n    } = thunkAPI.getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${auth.userInfo.token}`\n      }\n    };\n    const response = await axios.get('/api/tasks/shared', config);\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nconst taskSlice = createSlice({\n  name: 'tasks',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(createTask.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(createTask.fulfilled, (state, action) => {\n      state.loading = false;\n      state.tasks.push(action.payload);\n    }).addCase(createTask.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(getTasks.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(getTasks.fulfilled, (state, action) => {\n      state.loading = false;\n      state.tasks = action.payload;\n    }).addCase(getTasks.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(updateTask.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(updateTask.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.tasks.findIndex(task => task._id === action.payload._id);\n      if (index !== -1) {\n        state.tasks[index] = action.payload;\n      }\n    }).addCase(updateTask.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(shareTask.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(shareTask.fulfilled, (state, action) => {\n      state.loading = false;\n    }).addCase(shareTask.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(getSharedTasks.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(getSharedTasks.fulfilled, (state, action) => {\n      state.loading = false;\n      state.sharedTasks = action.payload;\n    }).addCase(getSharedTasks.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport default taskSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","tasks","sharedTasks","loading","error","createTask","taskData","thunkAPI","auth","getState","config","headers","Authorization","userInfo","token","response","post","data","rejectWithValue","getTasks","_","get","updateTask","put","shareTask","shareData","getSharedTasks","taskSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","push","payload","rejected","index","findIndex","task","_id","reducer"],"sources":["G:/task-list-application/frontend/src/redux/slices/taskSlice.js"],"sourcesContent":["// frontend/src/redux/slices/taskSlice.js\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n  tasks: [],\r\n  sharedTasks: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nexport const createTask = createAsyncThunk('tasks/createTask', async (taskData, thunkAPI) => {\r\n  try {\r\n    const { auth } = thunkAPI.getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${auth.userInfo.token}`,\r\n      },\r\n    };\r\n    const response = await axios.post('/api/tasks', taskData, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const getTasks = createAsyncThunk('tasks/getTasks', async (_, thunkAPI) => {\r\n  try {\r\n    const { auth } = thunkAPI.getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${auth.userInfo.token}`,\r\n      },\r\n    };\r\n    const response = await axios.get('/api/tasks', config);\r\n    return response.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const updateTask = createAsyncThunk('tasks/updateTask', async (taskData, thunkAPI) => {\r\n  try {\r\n    const { auth } = thunkAPI.getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${auth.userInfo.token}`,\r\n      },\r\n    };\r\n    const response = await axios.put('/api/tasks', taskData, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const shareTask = createAsyncThunk('tasks/shareTask', async (shareData, thunkAPI) => {\r\n  try {\r\n    const { auth } = thunkAPI.getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${auth.userInfo.token}`,\r\n      },\r\n    };\r\n    const response = await axios.post('/api/tasks/share', shareData, config);\r\n    return response.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const getSharedTasks = createAsyncThunk('tasks/getSharedTasks', async (_, thunkAPI) => {\r\n  try {\r\n    const { auth } = thunkAPI.getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${auth.userInfo.token}`,\r\n      },\r\n    };\r\n    const response = await axios.get('/api/tasks/shared', config);\r\n    return response.data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nconst taskSlice = createSlice({\r\n  name: 'tasks',\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createTask.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(createTask.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.tasks.push(action.payload);\r\n      })\r\n      .addCase(createTask.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(getTasks.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(getTasks.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.tasks = action.payload;\r\n      })\r\n      .addCase(getTasks.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(updateTask.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(updateTask.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.tasks.findIndex((task) => task._id === action.payload._id);\r\n        if (index !== -1) {\r\n          state.tasks[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateTask.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(shareTask.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(shareTask.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n      })\r\n      .addCase(shareTask.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(getSharedTasks.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(getSharedTasks.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.sharedTasks = action.payload;\r\n      })\r\n      .addCase(getSharedTasks.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport default taskSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}